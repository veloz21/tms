<b404-portlet>
  <b404-portlet-header [sticky]="true" [title]="getComponentTitle()" [class]="'b404-portlet__head--lg'"
    [viewLoading$]="loading$">
    <ng-container ktPortletTools>
      <a (click)="goBackWithoutId()" class="btn btn-secondary b404-margin-r-10" mat-raised-button
        matTooltip="{{'MODULE.GO_BACK' | b404Translate:translateParams}}">
        <i class="la la-arrow-left"></i>
        <span class="b404-hidden-mobile">{{"GENERAL.BUTTONS.BACK" | b404Translate}}</span>
      </a>
      <a href="javascript:;" class="btn btn-secondary b404-margin-r-10" (click)="reset()" [disabled]="selectedTab !== 0"
        mat-raised-button matTooltip="{{'GENERAL.BUTTONS.RESET_FORM' | b404Translate}}">
        <i class="la la-cog"></i>
        <span class="b404-hidden-mobile">{{"GENERAL.BUTTONS.RESET" | b404Translate}}</span>
      </a>
      <a href="javascript:;" class="btn btn-primary b404-margin-r-10" color="primary" (click)="onSumbit(false)"
        mat-raised-button matTooltip="{{'GENERAL.BUTTONS.SAVE_FORM' | b404Translate}}">
        <span class="b404-hidden-mobile">{{"GENERAL.BUTTONS.SAVE" | b404Translate}}</span>
      </a>
    </ng-container>
  </b404-portlet-header>
  <b404-portlet-body>
    <div *ngIf="employee">
      <form [formGroup]="employeeForm" class="b404-form b404-form--group-seperator-dashed" autocomplete="off">
        <b404-alert *ngIf="hasFormErrors" type="warn" [showCloseButton]="true" [duration]="10000"
          (close)="onAlertClose($event)">
          <span>{{"GENERAL.TEXT.OH_SNAP_CREATE" | b404Translate}}</span>
        </b404-alert>
        <div class="b404-form__section b404-form__section--first">
          <div class="b404-form__group">
            <div class="row">
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.FIRST_NAME' | b404Translate}}</mat-label>
                  <input matInput placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.FIRST_NAME' | b404Translate }}"
                    formControlName="firstName" required>
                  <mat-error>
                    {{'PAYSHEET.EMPLOYEE.MODEL.FIRST_NAME' | b404Translate }}
                    <strong><span>{{"GENERAL.TEXT.REQUIRED" | b404Translate}}</span></strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.LAST_NAME' | b404Translate}}</mat-label>
                  <input matInput placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.LAST_NAME' | b404Translate }}"
                    formControlName="lastName" required>
                  <mat-error>
                    {{'PAYSHEET.EMPLOYEE.MODEL.LAST_NAME' | b404Translate }}
                    <strong><span>{{"GENERAL.TEXT.REQUIRED" | b404Translate}}</span></strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.BIRTH_DATE' | b404Translate}}</mat-label>
                  <input matInput [matDatepicker]="birthDate"
                    placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.BIRTH_DATE' | b404Translate }}" formControlName="birthDate"
                    required />
                  <mat-datepicker-toggle matSuffix [for]="birthDate"></mat-datepicker-toggle>
                  <mat-datepicker #birthDate></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="b404-form__group">
            <div class="row">
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.EMPLOYEE_TYPE' | b404Translate}}</mat-label>
                  <mat-select placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.EMPLOYEE_TYPE' | b404Translate }}"
                    formControlName="type" required>
                    <mat-option value="Chofer">Chofer</mat-option>
                    <mat-option value="Administrativo">Administrativo</mat-option>
                    <mat-option value="Mecánico">Mecánico</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.CELLPHONE' | b404Translate}}</mat-label>
                  <input matInput placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.CELLPHONE' | b404Translate }}" type="number"
                    formControlName="cellphone" required maxlength="10">
                  <mat-error>
                    {{'PAYSHEET.EMPLOYEE.MODEL.CELLPHONE' | b404Translate }}
                    <strong><span>{{"GENERAL.TEXT.REQUIRED" | b404Translate}}</span></strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.SECONDARY_CELLPHONE' | b404Translate}}</mat-label>
                  <input matInput placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.SECONDARY_CELLPHONE' | b404Translate }}"
                    type="number" formControlName="secondaryCellphone" maxlength="10">
                  <mat-error>
                    {{'PAYSHEET.EMPLOYEE.MODEL.CELLPHONE' | b404Translate }}
                    <strong><span>{{"GENERAL.TEXT.REQUIRED" | b404Translate}}</span></strong>
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="b404-form__group">
            <div class="row">
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.DATE_ADMISSION' | b404Translate}}</mat-label>
                  <input matInput [matDatepicker]="dateofAdmission"
                    placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.DATE_ADMISSION' | b404Translate }}"
                    formControlName="admissionDate" required />
                  <mat-datepicker-toggle matSuffix [for]="dateofAdmission"></mat-datepicker-toggle>
                  <mat-datepicker #dateofAdmission></mat-datepicker>
                </mat-form-field>
              </div>

              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.SALARY' | b404Translate}}</mat-label>
                  <span matPrefix>$ &nbsp;</span>
                  <input matInput matInputCurrency formControlName="salary" type="text"
                    placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.SALARY' | b404Translate}}" />
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.PAYMENT_FREQUENCY' | b404Translate}}</mat-label>
                  <mat-select placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.PAYMENT_FREQUENCY' | b404Translate }}"
                    formControlName="paymentFrequency">
                    <mat-option value="Semanal">Semanal</mat-option>
                    <mat-option value="Quincenal">Quincenal</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>


            </div>
          </div>
          <div class="b404-form__group">
            <div class="row">
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.ADDRESS' | b404Translate}}</mat-label>
                  <input matInput placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.ADDRESS' | b404Translate }}"
                    formControlName="address" required>
                  <mat-error>
                    {{'PAYSHEET.EMPLOYEE.MODEL.ADDRESS' | b404Translate }}
                    <strong><span>{{"GENERAL.TEXT.REQUIRED" | b404Translate}}</span></strong>
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.LICENSE_TYPE' | b404Translate}}</mat-label>
                  <mat-select placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.LICENSE_TYPE' | b404Translate }}"
                    formControlName="licenseType">
                    <mat-option value="D">D</mat-option>
                    <mat-option value="E">E</mat-option>
                    <mat-option value="F">F</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.DUE_DATE' | b404Translate}}</mat-label>
                  <input matInput [matDatepicker]="dueDate"
                    placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.DUE_DATE' | b404Translate }}"
                    formControlName="licensedueDate" />
                  <mat-datepicker-toggle matSuffix [for]="dueDate"></mat-datepicker-toggle>
                  <mat-datepicker #dueDate></mat-datepicker>
                  <mat-error
                    *ngIf="employeeForm.get('licensedueDate').errors && employeeForm.get('licensedueDate').errors.InvalidDate">
                    <strong>La licencia ya esta vencida</strong>
                  </mat-error>
                </mat-form-field>
              </div>

            </div>
          </div>
          <div class="b404-form__group">
            <div class="row">
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <label for="">{{'PAYSHEET.EMPLOYEE.MODEL.DRIVERS_LICENSE' | b404Translate}}</label><br>
                <!-- <input type="file" formControlName="licenseAttchment"> -->
                <b404-file-drop></b404-file-drop>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.TEST_DATE' | b404Translate}}</mat-label>
                  <input matInput [matDatepicker]="testDate"
                    placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.TEST_DATE' | b404Translate }}" formControlName="testDate" />
                  <mat-datepicker-toggle matSuffix [for]="testDate"></mat-datepicker-toggle>
                  <mat-datepicker #testDate></mat-datepicker>
                </mat-form-field>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{'PAYSHEET.EMPLOYEE.MODEL.TEST_EXPIRATION_DATE' | b404Translate}}</mat-label>
                  <input matInput [matDatepicker]="testExpirationDate"
                    placeholder="{{'PAYSHEET.EMPLOYEE.MODEL.TEST_EXPIRATION_DATE' | b404Translate }}"
                    formControlName="testExpirationDate" />
                  <mat-datepicker-toggle matSuffix [for]="testExpirationDate"></mat-datepicker-toggle>
                  <mat-datepicker #testExpirationDate></mat-datepicker>
                </mat-form-field>
              </div>

            </div>
          </div>

          <div class="b404-form__group">
            <div class="row">
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <label for="">{{'PAYSHEET.EMPLOYEE.MODEL.PSYCHOPHYSICAL_TEST' | b404Translate}}</label><br>
                <!-- <input type="file" formControlName="testAttachment"> -->
                <b404-file-drop></b404-file-drop>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <label for="">{{'PAYSHEET.EMPLOYEE.MODEL.PHOTOGRAPHY' | b404Translate}}</label><br>
                <b404-file-drop [(file)]="imageFile" (fileChange)="setImageAsUrl($event)"></b404-file-drop>
              </div>
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <label for="">INE</label><br>
                <b404-file-drop></b404-file-drop>
              </div>
              <div *ngIf="imageUrl" class="col-md-4 b404-margin-bottom-10-mobile">
                <img class="box" [src]="imageUrl">
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </b404-portlet-body>
</b404-portlet>
